"use strict";window.onload=function(){var t=this.JSON.parse(localStorage.getItem("cartList")||"[]");function a(){var a=0;$(".dan").each(function(){if(1==this.checked){var t=$($(this).parent().parent().find(".je")).html().slice(1,-1);a=+a+ +t}}),$(".zong").html("￥"+a+"元")}function n(){var t=JSON.parse(localStorage.getItem("cartList")||"[]"),a='\n        <table class="m-shopcart-list">\n                    <thead>\n                        <tr>\n                            <th class="select"><input type="checkbox"></th>\n                            <th class="goods">商品信息</th>\n                            <th class="price">单价</th>\n                            <th class="count">数量</th>\n                            <th class="total">金额</th>\n                            <th class="handle">操作</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n        <tr class="shopcart-division">\n            <td colspan="6"></td>\n        </tr>\n        <tr class="shopcart-title">\n            <td colspan="6">\n                <label>\n                        <input type="checkbox" class="All"> 工品汇\n                </label>\n            </td>\n        </tr>';t.forEach(function(t){a+='<tr class="shopcart-goods">\n            <td>\n                <input type="checkbox" class="dan" data-id="'.concat(t.id,'">\n            </td>\n            <td>\n                <div class="m-goods-item">\n                    <a href="" class="pic">\n                        <img src="').concat(t.image,'">\n                    </a>\n                    <div class="info">\n                        <p class="title"><a href="">').concat(t.info,"</a></p>\n                        <p>品牌：威特仕</p>\n                        <p>").concat(t.num2,"</p>\n                        <p>").concat(t.num1,'</p>\n                    </div>\n                </div>\n            </td>\n            <td>\n                <p><strong class="g-highlight">￥').concat(t.price,'</strong></p>\n            </td>\n            <td>\n                <div class="m-count-handle g-clearfix">\n                    <a href="javascript:void 0;" class="btn minus" data-id="').concat(t.id,'">-</a>\n                    <input type="text" class="input" value=').concat(t.num,'>\n                    <a href="javascript:void 0;" class="btn plus" data-id="').concat(t.id,'">+</a>\n                </div>\n            </td>\n            <td><strong class="g-highlight je">￥').concat(parseFloat(t.xiaoji).toFixed(2),'元</strong></td>\n            <td>\n                <a href="javascript:void 0;" class="del" data-id="').concat(t.id,'">删除</a>\n            </td>\n        </tr>')}),a+="</tbody>\n        </table>",a+=' <div class="m-shopcart-balance">\n        <div class="balance-handle">\n            <a href="list.html" class="tobuy">返回继续购物</a>\n            <a href="javascript:void 0;" class="shanchu">清空购物车</a>\n            <a href="javascript:void 0;">分享商品清单</a>\n        </div>\n        <div class="balance-money">\n            <p>总金额（不含运费）：<strong class="g-highlight zong">￥</strong></p>\n            <p>\n                <a href="javascript:void 0;" class="btn-submit">结算</a>\n            </p>\n        </div>\n    </div>',$(".cartbox2").html(a)}t?(n(),$(".cartbox2").on("click",".minus",function(){var a=$(this).data("id");t.forEach(function(t){t.id===a&&(1<t.num&&t.num--,t.xiaoji=parseFloat(t.price)*t.num)}),n(),localStorage.setItem("cartList",JSON.stringify(t)),location.reload()}),$(".cartbox2").on("click",".plus",function(){var a=$(this).data("id");t.forEach(function(t){t.id===a&&(t.num++,t.xiaoji=parseFloat(t.price)*t.num)}),n(),localStorage.setItem("cartList",JSON.stringify(t)),location.reload()}),$(".All").click(function(){1==this.checked?$(".dan").prop("checked",!0):$(".dan").prop("checked",!1),a()}),$(".dan").click(function(){$(".dan").length==$(".dan:checked").length?$(".All").prop("checked",!0):$(".All").prop("checked",!1),a()}),$(".cartbox2").on("click",".del",function(){var a=$(this).data("id");t.forEach(function(t){t.id===a&&localStorage.removeItem(t)}),n(),localStorage.setItem("cartList",JSON.stringify(t))}),$(".cartbox2").on("click",".shanchu",function(){localStorage.removeItem("cartList"),n()})):this.alert("你的购物车为空,快去选购吧!")};